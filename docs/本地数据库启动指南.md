# 本地数据库启动指南（PostgreSQL via docker-compose）

## 快速启动
在仓库根目录执行：
```bash
docker-compose up -d
```

默认配置：
- 主机端口：`5432`
- 数据库：`shiyu_admin_scaffold`
- 用户：`shiyu`
- 密码：`shiyu123`

健康检查：`pg_isready -U shiyu -d shiyu_admin_scaffold`

## 后端配置对齐
`backend/shiyu-admin-backend/configs/config.yaml` 示例（将 auth.use_mock 设为 false）：
```yaml
auth:
  use_mock: false

database:
  driver: "postgres"
  host: "localhost"
  port: 5432
  username: "shiyu"
  password: "shiyu123"
  database: "shiyu_admin_scaffold"
  ssl_mode: "disable"
  timezone: "Asia/Shanghai"
```

## 常用命令
- 查看容器状态：`docker ps`
- 查看日志：`docker logs -f shiyu-postgres`
- 停止：`docker-compose down`
- 停止并清理数据卷：`docker-compose down -v`

